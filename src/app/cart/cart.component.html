<h1>Shopping Cart</h1>
<div class="main-content">
  <div class="section-content section-content-p20">
    <div class="container-fluid">
      <div *ngIf="cartItems.length > 0" class="cart-container">
        <div class="cart-table">
          <table class="table table-bordered">
            <tr>
              <th width="20%">PRODUCT</th>
              <th width="20%"></th>
              <th width="20%">QUANTITY</th>
              <th width="10%">TOTAL</th>
              <th width="20%">ACTION</th>
            </tr>
            <tr *ngFor="let tempCartItem of cartItems">
              <td>
                <img
                  [src]="tempCartItem.imageUrl"
                  class="img-responsive"
                  width="150px"
                />
              </td>
              <td>
                <p>{{ tempCartItem.name }}</p>
                <p>{{ tempCartItem.unitPrice | currency : "RM" }}</p>
              </td>
              <td>
                <div class="items">
                  <button (click)="decrementQuantity(tempCartItem)" class="btn btn-primary btn-sm">
                    <i class="fas fa-minus"></i>
                  </button>
                  <span>{{ tempCartItem.quantity }}</span>
                  <button (click)="incrementQuantity(tempCartItem)" class="btn btn-primary btn-sm">
                    <i class="fas fa-plus"></i>
                  </button>
                </div>
              </td>
              <td>
                <p>
                  {{ tempCartItem.quantity * tempCartItem.unitPrice | currency : "RM" }}
                </p>
              </td>
              <td>
                <button (click)="remove(tempCartItem)" class="btn btn-visibility btn-sm">
                  Delete
                </button>
              </td>
            </tr>
          </table>
        </div>

        <div class="cart-totals">
          <table class="table">
            <tr style="border:none;">
              <td colspan="2" style="border:none;text-align: center;font-weight: bold;margin-top:15px;margin-bottom: 2px; font-size: large;">CART TOTALS
                <p>-----------------------------------------</p>
              </td>
            </tr>
            <tr>
              <td style="padding:0px 40px;text-align: left;">Total Quantity</td>
              <td>{{ totalQuantity }}</td>
            </tr>
            <tr>
              <td style="padding:0px 40px;text-align: left;">Shipping</td>
              <td>FREE</td>
            </tr>
            <tr>
              <td style="padding:0px 40px;text-align: left;">Total Price</td>
              <td>{{ totalPrice | currency : "RM" }}</td>
            </tr>
            <tr>
              <td colspan="2" style="padding:30px;text-align: center;">
                <a routerLink="/checkout" class="btn btn-visibility" style="margin-bottom: 10px; font-size: medium; background-color: black;color:white; width: 200px; border-radius: 30px;padding:10px;">Checkout</a>
              </td>
            </tr>
          </table>
        </div>
      </div>

      <!-- If cart is empty then display a message -->
      <div *ngIf="cartItems.length == 0" class="alert alert-warning col-md-12" role="alert">
        Your shopping cart is empty.
      </div>
    </div>
  </div>
</div>
